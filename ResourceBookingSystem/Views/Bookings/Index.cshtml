@model IEnumerable<Booking>  

@{  
    ViewData["Title"] = "Index";  
    var request = Context.Request; 
}  

<h1>Bookings</h1>  

<p>  
    <a asp-action="Create">Create New Booking</a>  
</p>  

<form asp-action="Index" method="get" class="form-inline mb-3">  @* Requests to query for the Resource name and the Date Search and filter code *@
    <input type="text" name="resourceName" class="form-control mr-2" placeholder="Resource Name" value="@request.Query["resourceName"]" />  
    <input type="date" name="date" class="form-control mr-2" value="@request.Query["date"]" />  
    <button type="submit" class="btn btn-secondary">Filter</button>  
</form>  

<table class="table">  
    <thead>  
        <tr>  
            <th>  
                @Html.DisplayNameFor(model => model.StartTime)  
            </th>  
            <th>  
                @Html.DisplayNameFor(model => model.EndTime)  
            </th>  
            <th>  
                @Html.DisplayNameFor(model => model.BookedBy)  
            </th>  
            <th>  
                @Html.DisplayNameFor(model => model.Purpose)  
            </th>  
            <th>  
                @Html.DisplayNameFor(model => model.Resource)  
            </th>  
            <th></th>  
        </tr>  
    </thead>  
    <tbody> @*  Grabs the model and loops through the values *@
@foreach (var item in Model) {  
        <tr>  
            <td>  
                @Html.DisplayFor(modelItem => item.StartTime)  
            </td>  
            <td>  
                @Html.DisplayFor(modelItem => item.EndTime)  
            </td>  
            <td>  
                @Html.DisplayFor(modelItem => item.BookedBy)  
            </td>  
            <td>  
                @Html.DisplayFor(modelItem => item.Purpose)  
            </td>  
            <td>  
                @Html.DisplayFor(modelItem => item.Resource.Name)  
            </td>  
            <td>  
                <a asp-action="Edit" asp-route-id="@item.Id" class="btn btn-sm btn-primary">Edit</a>  
                <a asp-action="Delete" asp-route-id="@item.Id" class="btn btn-sm btn-danger">Cancel</a>  
            </td>  
        </tr>  
}  
    </tbody>  
</table>
